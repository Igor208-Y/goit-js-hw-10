{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\"; \nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst input = document.querySelector(\"#datetime-picker\");\nconst btn = document.querySelector(\"[data-start]\");\nconst daysEl = document.querySelector(\"[data-days]\");\nconst hoursEl = document.querySelector(\"[data-hours]\");\nconst minutesEl = document.querySelector(\"[data-minutes]\");\nconst secondsEl = document.querySelector(\"[data-seconds]\");\n\nlet countdown;\nlet selectedDate;\n\nflatpickr(input, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        selectedDate = selectedDates[0];\n        btn.disabled = selectedDate <= Date.now();\n    }\n});\n\nbtn.addEventListener(\"click\", () => {\n    btn.disabled = true;\n    input.disabled = true;\n\n    countdown = setInterval(() => {\n        const ms = selectedDate - new Date();\n        if (ms <= 0) {\n            clearInterval(countdown);\n            return resetTimer();\n        }\n        updateTimer(ms);\n    }, 1000);\n});\n\nfunction updateTimer(ms) {\n    const time = convertMs(ms);\n    daysEl.textContent = time.days.toString().padStart(2, \"0\");\n    hoursEl.textContent = time.hours.toString().padStart(2, \"0\");\n    minutesEl.textContent = time.minutes.toString().padStart(2, \"0\");\n    secondsEl.textContent = time.seconds.toString().padStart(2, \"0\");\n}\n\nfunction resetTimer() {\n    input.disabled = false;\n    [daysEl, hoursEl, minutesEl, secondsEl].forEach(el => el.textContent = \"00\");\n}\n\nfunction convertMs(ms) {\n    return {\n        days: Math.floor(ms / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((ms / (1000 * 60 * 60)) % 24),\n        minutes: Math.floor((ms / (1000 * 60)) % 60),\n        seconds: Math.floor((ms / 1000) % 60)\n    };\n}\n"],"names":["input","btn","daysEl","hoursEl","minutesEl","secondsEl","countdown","selectedDate","flatpickr","selectedDates","ms","resetTimer","updateTimer","time","convertMs","el"],"mappings":"svBAMA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAM,SAAS,cAAc,cAAc,EAC3CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EACAC,EAEJC,EAAUR,EAAO,CACb,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACnBF,EAAeE,EAAc,CAAC,EAC9BR,EAAI,SAAWM,GAAgB,KAAK,IAAK,CACjD,CACA,CAAC,EAEDN,EAAI,iBAAiB,QAAS,IAAM,CAChCA,EAAI,SAAW,GACfD,EAAM,SAAW,GAEjBM,EAAY,YAAY,IAAM,CAC1B,MAAMI,EAAKH,EAAe,IAAI,KAC9B,GAAIG,GAAM,EACN,qBAAcJ,CAAS,EAChBK,EAAY,EAEvBC,EAAYF,CAAE,CACjB,EAAE,GAAI,CACX,CAAC,EAED,SAASE,EAAYF,EAAI,CACrB,MAAMG,EAAOC,EAAUJ,CAAE,EACzBR,EAAO,YAAcW,EAAK,KAAK,SAAQ,EAAG,SAAS,EAAG,GAAG,EACzDV,EAAQ,YAAcU,EAAK,MAAM,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC3DT,EAAU,YAAcS,EAAK,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,EAC/DR,EAAU,YAAcQ,EAAK,QAAQ,SAAQ,EAAG,SAAS,EAAG,GAAG,CACnE,CAEA,SAASF,GAAa,CAClBX,EAAM,SAAW,GACjB,CAACE,EAAQC,EAASC,EAAWC,CAAS,EAAE,QAAQU,GAAMA,EAAG,YAAc,IAAI,CAC/E,CAEA,SAASD,EAAUJ,EAAI,CACnB,MAAO,CACH,KAAM,KAAK,MAAMA,GAAM,IAAO,GAAK,GAAK,GAAG,EAC3C,MAAO,KAAK,MAAOA,GAAM,IAAO,GAAK,IAAO,EAAE,EAC9C,QAAS,KAAK,MAAOA,GAAM,IAAO,IAAO,EAAE,EAC3C,QAAS,KAAK,MAAOA,EAAK,IAAQ,EAAE,CACvC,CACL"}